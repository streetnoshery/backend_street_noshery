# Kong Environment Configuration
# Copy this file to .env and modify as needed

# Kong Database Configuration
KONG_DATABASE=postgres
KONG_PG_HOST=kong-database
KONG_PG_USER=kong
KONG_PG_PASSWORD=kong
KONG_PG_DATABASE=kong
KONG_PG_PORT=5432

# Kong Proxy Configuration
KONG_PROXY_LISTEN=0.0.0.0:8000
KONG_PROXY_ACCESS_LOG=/dev/stdout
KONG_PROXY_ERROR_LOG=/dev/stderr

# Kong Admin API Configuration
KONG_ADMIN_LISTEN=0.0.0.0:8001
KONG_ADMIN_ACCESS_LOG=/dev/stdout
KONG_ADMIN_ERROR_LOG=/dev/stderr

# Kong Manager (GUI) Configuration
KONG_ADMIN_GUI_URL=http://localhost:8002
KONG_ADMIN_GUI_LISTEN=0.0.0.0:8002

# Kong Security Configuration
KONG_ADMIN_GUI_SSL_CERT=
KONG_ADMIN_GUI_SSL_CERT_KEY=
KONG_ADMIN_GUI_SSL_CIPHER_SUITE=modern

# Kong Plugin Configuration
KONG_PLUGINS=bundled,key-auth,rate-limiting,cors,request-transformer,response-transformer,prometheus,correlation-id,file-log

# Kong Logging Configuration
KONG_LOG_LEVEL=info
KONG_NGINX_DAEMON=off

# Kong Performance Configuration
KONG_NGINX_WORKER_PROCESSES=auto
KONG_NGINX_WORKER_CONNECTIONS=auto
KONG_NGINX_WORKER_RLIMIT_NOFILE=auto

# Kong Real IP Configuration
KONG_REAL_IP_HEADER=X-Real-IP
KONG_REAL_IP_RECURSIVE=off
KONG_TRUSTED_IPS=0.0.0.0/0,::/0

# Kong Declarative Configuration
KONG_DECLARATIVE_CONFIG=/kong/declarative/kong.yml
KONG_DATABASE=off

# Backend Service Configuration
BACKEND_PORT=3020
BACKEND_HOST=backend
BACKEND_PREFIX=street-noshery

# MongoDB Configuration (for your NestJS app)
MONGO_URL=mongodb+srv://streetnoshery:Sumit%40Godwan%401062@streetnoshery.g7ufm.mongodb.net/street_noshery?retryWrites=true&w=majority

# API Keys for different clients
WEB_API_KEY=web-api-key-12345
MOBILE_API_KEY=mobile-api-key-67890
ADMIN_API_KEY=admin-api-key-11111

# Rate Limiting Configuration
RATE_LIMIT_MINUTE=100
RATE_LIMIT_HOUR=1000
RATE_LIMIT_DAY=10000

# CORS Configuration
CORS_ORIGINS=*
CORS_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_HEADERS=Accept,Accept-Version,Content-Length,Content-MD5,Content-Type,Date,X-Auth-Token,Authorization,apikey,x-api-key
CORS_EXPOSED_HEADERS=X-Auth-Token,X-Response-Time
CORS_CREDENTIALS=true
CORS_MAX_AGE=3600
